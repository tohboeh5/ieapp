[env]
_.python.venv = { path = ".venv" }

[tasks.install]
run = "uv sync"
description = "Install dependencies"

[tasks.build]
run = "uv run maturin develop"
description = "Build Rust extension for local development"

[tasks.test]
run = [
	"cargo test -j 1",
	"if [ -d tests ]; then uv run pytest; fi",
]
description = "Run Rust crate tests and Python binding tests"

[tasks.lint]
run = "cargo clippy && uv run ruff check ."
description = "Run Rust and Python linters"

[tasks.format]
run = "cargo fmt && uv run ruff format ."
description = "Format Rust and Python code"

[tasks.ty]
run = "uv run ty check ."
description = "Run Python type checking"
