[env]
_.python.venv = { path = ".venv" }

[tasks.install]
run = "uv sync"

[tasks.dev]
# UGOITE_ALLOW_REMOTE=true allows remote connections in dev containers / Codespaces
run = "UGOITE_ALLOW_REMOTE=true uv run uvicorn src.app.main:app --host 0.0.0.0 --port 8000 --reload --reload-dir . --reload-dir ../ugoite-core/ugoite_core"

[tasks.test]
run = "uv run pytest"
description = "Run backend pytest suite"
depends = ["//ugoite-core:build"]

