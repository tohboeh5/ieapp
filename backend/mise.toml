[tasks.install]
run = "uv sync"

[tasks.build-sandbox]
run = "uv run ../ieapp-cli/scripts/build_sandbox.py"
sources = ["../ieapp-cli/src/ieapp/sandbox/runner.js"]
outputs = ["../ieapp-cli/src/ieapp/sandbox/sandbox.wasm"]

[tasks.dev]
depends = ["build-sandbox"]
run = "uv run uvicorn src.app.main:app --host 0.0.0.0 --port 8000 --reload"

[tasks.test]
run = "uv run pytest"
description = "Run backend pytest suite"

